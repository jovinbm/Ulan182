function trackDigests(t){t.run(["$rootScope",function(t){Promise.setScheduler(function(e){t.$evalAsync(e)})}])}var app=angular.module("app",["ngSanitize","ui.bootstrap","toastr","ui.router","ngDialog","LocalStorageModule","angular-loading-bar","ngAnimate","uiGmapgoogle-maps"]);app.config(["$stateProvider","$urlRouterProvider","$interpolateProvider",function(t,e,n){n.startSymbol("{[{"),n.endSymbol("}]}"),e.when("/home","/home/welcome"),e.otherwise("/index"),t.state("index",{url:"/index",templateUrl:"_index.html"}).state("register",{url:"/register",templateUrl:"_create_account.html"}).state("login",{url:"/login",templateUrl:"_sign_in.html"}).state("home",{url:"/home",templateUrl:"_homepage.html"}).state("home.welcome",{url:"/welcome",templateUrl:"_welcome.html"}).state("home.requestUber",{url:"/requestUber",templateUrl:"_request_uber.html"}).state("home.rideStatus",{url:"/rideStatus",templateUrl:"_ride_status.html"}).state("home.priceEstimator",{url:"/estimator",templateUrl:"_price_estimates.html"}).state("home.connectToUber",{url:"/connect",templateUrl:"_connect_to_uber.html"})}]),app.config(["uiGmapGoogleMapApiProvider",function(t){t.configure({v:"3.20",libraries:"weather,geometry,visualization"})}]),app.run(["$rootScope","$state","$stateParams",function(t,e,n){t.$state=e,t.$stateParams=n}]),trackDigests(app),angular.module("app").config(["localStorageServiceProvider",function(t){t.setPrefix("app").setStorageCookieDomain(-1!==document.location.hostname.search("uber")?"uber.org":"").setStorageType("localStorage")}]),angular.module("app").controller("UniversalController",["$filter","$window","$location","$scope","$rootScope","ngDialog","$anchorScroll","localStorageService","$http","$state","toastr","$interval",function(t,e,n,r,o,a,i,s,u,c,l,d){o.main={classes:{body:"index"},userData:null,userLocation:{latitude:"",longitude:""},updateUserLocation:function(t,e){o.main.userLocation.latitude=parseFloat(t).toFixed(10),o.main.userLocation.longitude=parseFloat(e).toFixed(10)},getUserData:function(){return Promise.resolve().then(function(){return u.post("/api/getUserData",{}).then(function(t){return t=t.data,o.main.responseStatusHandler(t),t.userData})["catch"](function(t){throw t=t.data,o.main.responseStatusHandler(t),t})}).then(function(t){return t?o.main.userData=t:o.main.userData=null,!0}).then(function(){o.main.userData?o.main.changeState("home",["index","register","login"],null):o.main.changeState("index",null,["index","register","login"])})["catch"](function(t){return console.log(t),!0})},getCurrentState:function(){return c.current.name},changeState:function(t,e,n){var r=o.main.getCurrentState();if(e)e.indexOf(r)>-1&&c.go(t);else if(n)-1==n.indexOf(r)&&c.go(t);else{if(!t)return!0;c.go(t)}},startIntervalTimer:function(t,e){return d(function(){r.blood_1>0&&r.blood_2>0?(r.blood_1=r.blood_1-3,r.blood_2=r.blood_2-4):r.stopFight()},100)},checkLocalStorageSupport:function(){return s.isSupported?!0:!1},checkCookieIsEnabled:function(){return s.cookie.isSupported?!0:!1},saveToLocalStorage:function(t,e){var n={value:e,timestamp:(new Date).getTime()};return s.set(t,n)},getFromLocalStorage:function(t,e){if(e||(e=86400),o.main.checkIfExistsOnLocalStorage(t)){var n=s.get(t),r=n.timestamp,a=(new Date).getTime().toString();return a-r>1e3*e?(o.main.removeFromLocalStorage([t]),!1):n.value}return!1},saveKeyToCookie:function(t,e,n){n||(n=2);var r={value:e,timestamp:(new Date).getTime()};return r=JSON.stringify(r),s.cookie.set(t,r,n)},getKeyFromCookie:function(t,e){e||(e=86400);var n=s.cookie.get(t);if(n){var r=n.timestamp,a=(new Date).getTime().toString();return a-r>1e3*e?(o.main.removeKeyFromCookie(t),!1):n.value}return!1},checkIfExistsOnLocalStorage:function(t){for(var e=s.keys(),n=e.length,r=!1,o=0;n>o;o++)if(e[o]==t){r=!0;break}return r},removeFromLocalStorage:function(t,e){return e?s.clearAll():(t.forEach(function(t){s.remove(t)}),!0)},removeKeyFromCookie:function(t){return s.cookie.remove(t)},goToTop:function(){n.hash("navigation"),i()},back:function(){o.back()},responseStatusHandler:function(e){t("responseFilter")(e)},showToast:function(t,e){switch(t){case"success":l.clear(),l.success(e);break;case"warning":l.clear(),l.warning(e,"Warning",{closeButton:!0,tapToDismiss:!0});break;case"error":l.clear(),l.error(e,"Error",{closeButton:!0,tapToDismiss:!0,timeOut:!1});break;default:l.clear()}},clearToasts:function(){l.clear()},redirectToIndex:function(){e.location.href="/index.app"},redirectToLogin:function(){e.location.href="/notLoggedIn"},reloadPage:function(){e.location.reload()},redirectToHome:function(){e.location.href="/"},redirectToPage:function(t){e.location.href=t},redirectToPreviousPage:function(){window.location.href=document.referrer},showExecuting:function(t){var e;return e=t&&"string"==typeof t&&0!==t.length?t+"...":"Performing action...",a.open({data:{message:e},templateUrl:"_executing_dialog",className:"ngdialog-theme-default",overlay:!0,showClose:!1,closeByEscape:!1,closeByDocument:!1,cache:!0,trapFocus:!1,preserveFocus:!0})}},o.$on("$stateChangeStart",function(t,e,n,r,a){o.main.getUserData()})}]),angular.module("app").controller("createAccountController",["$rootScope","$http",function(t,e){t.main.classes.body="account-crud"}]).directive("createAccountScope",["$rootScope","$http",function(t,e){return{restrict:"AE",link:function(n){function r(r){return e.post("/api/createAccount",r).then(function(e){return e=e.data,t.main.responseStatusHandler(e),!0})["catch"](function(e){return e=e.data,t.main.responseStatusHandler(e),n.registrationDetails.password1="",n.registrationDetails.password2="",!0})}n.createMain={isBusy:!1},n.registrationDetails={email:"",firstName:"",lastName:"",username:"",password1:"",password2:""},n.createAccount=function(t){return n.createMain.isBusy=!0,r(n.registrationDetails,t).then(function(){n.createMain.isBusy=!1})}}}}]),angular.module("app").directive("logoutScope",["$rootScope","$http",function(t,e){return{restrict:"AE",link:function(n){n.logout=function(){return Promise.resolve().then(function(){return e.post("api/logoutClient",{}).then(function(e){return console.log(e),e=e.data,t.main.responseStatusHandler(e),t.main.userData=null,!0})["catch"](function(e){return e=e.data,t.main.responseStatusHandler(e),!0})})["catch"](function(t){return console.log(t),!0})}}}}]),angular.module("app").controller("signInController",["$rootScope","$http",function(t,e){t.main.classes.body="account-crud"}]).directive("signInScope",["$rootScope","$http",function(t,e){return{restrict:"AE",link:function(n){function r(r){return Promise.resolve().then(function(){return e.post("/api/localUserLogin",r)}).then(function(e){return e=e.data,t.main.responseStatusHandler(e),!0})["catch"](function(e){return e=e.data,n.loginFormModel.password="",t.main.responseStatusHandler(e),!0})}n.signInMain={isBusy:!1},n.loginFormModel={username:"",password:""},n.submitLocalLoginForm=function(){return n.signInMain.isBusy=!0,r(n.loginFormModel).then(function(){n.signInMain.isBusy=!1})}}}}]),angular.module("app").directive("signInBannerScope",["$rootScope",function(t){return{restrict:"AE",link:function(e){e.signInBanner={show:!1,bannerClass:"",msg:""},t.$on("signInBanner",function(t,n){e.signInBanner=n}),t.$on("clearBanners",function(){e.signInBanner={show:!1,bannerClass:"",msg:""}})}}}]).directive("registrationBannerScope",["$rootScope",function(t){return{restrict:"AE",link:function(e){e.registrationBanner={show:!1,bannerClass:"",msg:""},t.$on("registrationBanner",function(t,n){e.registrationBanner=n}),t.$on("clearBanners",function(){e.registrationBanner={show:!1,bannerClass:"",msg:""}})}}}]),angular.module("app").directive("universalBannerScope",["$rootScope","globals",function(t){return{restrict:"AE",link:function(e){e.universalBanner={show:!1,bannerClass:"",msg:""},t.$on("universalBanner",function(t,n){e.universalBanner=n}),t.$on("clearBanners",function(){e.universalBanner={show:!1,bannerClass:"",msg:""}})}}}]),angular.module("app").controller("homeCoreController",["$rootScope","$scope","$http",function(t,e,n){t.main.classes.body="homepage",$("body .leftCol").matchHeight({byRow:!0,property:"height",target:$("body .mapCol")}),e.$watch(function(){return t.main.userData},function(e,n){e&&""==e.uber.access_token&&t.main.changeState("home.connectToUber")})}]).directive("homeCoreScope",["$rootScope","$http",function(t,e){return{restrict:"AE",link:function(t){}}}]).directive("uberConnect",["$rootScope","$http",function(t,e){return{restrict:"AE",link:function(n){n.uberConnect={isBusy:!1,status:"",getUberAuthorizationUrl:function(){return n.uberConnect.isBusy=!0,n.uberConnect.status="Connecting...",Promise.resolve().then(function(){return e.post("/api/getUberAuthorizationUrl",{}).then(function(e){return e=e.data,t.main.responseStatusHandler(e),e})["catch"](function(e){throw e=e.data,t.main.responseStatusHandler(e),e})}).then(function(e){return n.uberConnect.isBusy=!1,t.main.redirectToPage(e.url),!0})["catch"](function(t){return n.uberConnect.isBusy=!1,console.log(t),!0})}}}}}]).controller("requestUberController",["$rootScope","$scope","$http",function(t,e,n){e.requestUberControllerMain={uberRideStatus:!1,priceEstimateArray:[],timeEstimateArray:[],products:[],getProducts:function(){var r,o;return Promise.resolve().then(function(){return t.map.getMyPosition()}).then(function(){if(r=t.main.userLocation.latitude,o=t.main.userLocation.longitude,r||o)return!0;throw{code:600}}).then(function(){return n.post("/api/getProducts",{latitude:r,longitude:o}).then(function(e){return e=e.data,t.main.responseStatusHandler(e),e})["catch"](function(e){throw e=e.data,t.main.responseStatusHandler(e),e})}).then(function(t){return e.requestUberControllerMain.products=t.obj.products,!0})["catch"](function(e){if(600!==e.code)throw e;t.main.showToast("warning","We could not determine your precise location to list the available products in your area")})["catch"](function(t){return console.log(t),!0})}},e.requestUberControllerMain.getProducts()}]).directive("requestUberDirective",["$rootScope","$http",function(t,e){return{restrict:"AE",link:function(n,r,o){n.requestUberMain={isBusy:!1,status:"",start_latitude:"",start_longitude:"",start_formatted_address:"",end_latitude:"",end_longitude:"",end_formatted_address:"",product_id:"",selectedProductPriceEstimate:{},selectedProduct:{},changeProductId:function(t,e){t&&(n.requestUberMain.product_id=t,n.requestUberControllerMain.products.forEach(function(e){e.product_id==t&&(n.requestUberMain.selectedProduct=e)}),n.requestUberControllerMain.priceEstimateArray.forEach(function(t){t.localized_display_name.toLowerCase()==e.toLowerCase()&&(n.requestUberMain.selectedProductPriceEstimate=t)}),n.requestUberControllerMain.timeEstimateArray.forEach(function(t){t.display_name.toLowerCase()==e.toLowerCase()&&(n.requestUberMain.selectedProduct.estimate=Math.ceil(t.estimate/60))}))},requestUber:function(){return n.requestUberMain.isBusy=!0,n.requestUberMain.status="Requesting...",Promise.resolve().then(function(){if(n.requestUberMain.start_latitude&&n.requestUberMain.start_longitude&&n.requestUberMain.end_latitude&&n.requestUberMain.end_longitude&&n.requestUberMain.product_id)return!0;throw{code:600}}).then(function(){return e.post("/api/requestUber",{start_latitude:n.requestUberMain.start_latitude,start_longitude:n.requestUberMain.start_longitude,end_latitude:n.requestUberMain.end_latitude,end_longitude:n.requestUberMain.end_longitude,product_id:n.requestUberMain.product_id}).then(function(e){return e=e.data,t.main.responseStatusHandler(e),e})["catch"](function(e){throw e=e.data,t.main.responseStatusHandler(e),e})}).then(function(t){return n.requestUberMain.isBusy=!1,n.requestUberControllerMain.uberRideStatus=t.obj,console.log(JSON.stringify(n.requestUberControllerMain.uberRideStatus)),n.requestUberMain.getRideStatus(),!0})["catch"](function(e){if(600!==e.code)throw e;t.main.showToast("warning","Some fields are missing"),n.requestUberMain.isBusy=!1})["catch"](function(t){return n.requestUberMain.isBusy=!1,console.log(t),!0})},getRideStatus:function(){return Promise.resolve().then(function(){return console.log("checking ride status"),e.post("/api/getRideStatus",{}).then(function(e){return e=e.data,t.main.responseStatusHandler(e),e})["catch"](function(e){throw e=e.data,t.main.responseStatusHandler(e),e})}).then(function(t){return n.requestUberMain.isBusy=!1,n.requestUberControllerMain.uberRideStatus=t.obj,console.log(JSON.stringify(n.requestUberControllerMain.uberRideStatus)),!0})["catch"](function(t){return n.requestUberMain.isBusy=!1,console.log(t),!0}).then(function(){return Promise.delay(1e4).then(function(){return n.requestUberMain.getRideStatus()})})},getPriceEstimate:function(){return n.requestUberMain.start_latitude&&n.requestUberMain.start_longitude&&n.requestUberMain.end_latitude&&n.requestUberMain.end_longitude?(n.requestUberMain.isBusy=!0,n.requestUberMain.status="Getting cost estimates...",Promise.resolve().then(function(){return e.post("/api/getPriceEstimate",{start_latitude:n.requestUberMain.start_latitude,start_longitude:n.requestUberMain.start_longitude,end_latitude:n.requestUberMain.end_latitude,end_longitude:n.requestUberMain.end_longitude}).then(function(e){return e=e.data,t.main.responseStatusHandler(e),e})["catch"](function(e){throw e=e.data,t.main.responseStatusHandler(e),e})}).then(function(t){return n.requestUberMain.isBusy=!1,n.requestUberControllerMain.priceEstimateArray=t.obj.prices,!0})["catch"](function(t){return n.uberConnect.isBusy=!1,console.log(t),!0})):void 0},getTimeEstimate:function(){return n.requestUberMain.start_latitude&&n.requestUberMain.start_longitude?(n.requestUberMain.isBusy=!0,n.requestUberMain.status="Getting time estimates...",Promise.resolve().then(function(){return e.post("/api/getTimeEstimate",{start_latitude:n.requestUberMain.start_latitude,start_longitude:n.requestUberMain.start_longitude}).then(function(e){return e=e.data,t.main.responseStatusHandler(e),e})["catch"](function(e){throw e=e.data,t.main.responseStatusHandler(e),e})}).then(function(t){return n.requestUberMain.isBusy=!1,n.requestUberControllerMain.timeEstimateArray=t.obj.times,!0})["catch"](function(t){return n.uberConnect.isBusy=!1,console.log(t),!0})):void 0}},angular.element(".start input.geoField").geocomplete({details:".start .details",detailsAttribute:"data-geo"}).bind("geocode:result",function(t,e){var r=e.geometry.location.J,o=e.geometry.location.M,a=e.formatted_address;r&&o&&(n.updateStartLocation(r,o,a),n.drawRoute(),n.requestUberMain.getPriceEstimate(),n.requestUberMain.getTimeEstimate())}),angular.element(".end input.geoField").geocomplete({details:".end .details",detailsAttribute:"data-geo"}).bind("geocode:result",function(t,e){var r=e.geometry.location.J,o=e.geometry.location.M,a=e.formatted_address;r&&o&&(n.updateEndLocation(r,o,a),n.drawRoute(),n.requestUberMain.getPriceEstimate(),n.requestUberMain.getTimeEstimate())}),n.updateStartLocation=function(e,r,o){e=parseFloat(e).toFixed(10),r=parseFloat(r).toFixed(10),o&&(o=o.toString()),e&&r&&(n.requestUberMain.start_latitude=e,n.requestUberMain.start_longitude=r,n.requestUberMain.start_formatted_address=o,t.map.addMarker(e,r,o))},n.updateEndLocation=function(e,r,o){e=parseFloat(e).toFixed(10),r=parseFloat(r).toFixed(10),o&&(o=o.toString()),e&&r&&(n.requestUberMain.end_latitude=e,n.requestUberMain.end_longitude=r,n.requestUberMain.end_formatted_address=o,t.map.addMarker(e,r,o))},n.drawRoute=function(){n.requestUberMain.start_latitude&&n.requestUberMain.end_latitude&&t.map.drawRoute([n.requestUberMain.start_latitude,n.requestUberMain.start_longitude],[n.requestUberMain.end_latitude,n.requestUberMain.end_longitude])},n.startAtMyLocation=function(){return Promise.resolve().then(function(){return t.main.userLocation.latitude&&t.main.userLocation.longitude?[t.main.userLocation.latitude,t.main.userLocation.longitude]:t.map.getMyPosition().then(function(){return t.main.userLocation.latitude&&t.main.userLocation.longitude?[t.main.userLocation.latitude,t.main.userLocation.longitude]:(t.main.showToast("warning","Could not find your position"),null)})}).then(function(t){t&&(n.requestUberMain.start_latitude=t[0],n.requestUberMain.start_longitude=t[1])})["catch"](function(e){console.log(e),t.main.showToast("warning","An error occurred while trying to pin point your location")})},n.endAtMyLocation=function(){return Promise.resolve().then(function(){return t.main.userLocation.latitude&&t.main.userLocation.longitude?[t.main.userLocation.latitude,t.main.userLocation.longitude]:t.map.getMyPosition().then(function(){return t.main.userLocation.latitude&&t.main.userLocation.longitude?[t.main.userLocation.latitude,t.main.userLocation.longitude]:(t.main.showToast("warning","Could not find your position"),null)})}).then(function(t){t&&(n.requestUberMain.end_latitude=t[0],n.requestUberMain.end_longitude=t[1])})["catch"](function(e){console.log(e),t.main.showToast("warning","An error occurred while trying to pin point your location")})}}}}]).controller("priceEstimatorController",["$rootScope","$http",function(t,e){return{restrict:"AE",link:function(t){t.priceEstimateArray=[]}}}]).directive("priceEstimatorResults",["$rootScope","$http",function(t,e){return{restrict:"AE",link:function(t){}}}]).directive("priceEstimator",["$rootScope","$http",function(t,e){return{restrict:"AE",link:function(n,r,o){n.priceEstimator={isBusy:!1,status:"",start_latitude:"",start_longitude:"",start_formatted_address:"",end_latitude:"",end_longitude:"",end_formatted_address:"",getPriceEstimate:function(){return n.priceEstimator.isBusy=!0,n.priceEstimator.status="Calculating...",Promise.resolve().then(function(){if(n.priceEstimator.start_latitude&&n.priceEstimator.start_longitude&&n.priceEstimator.end_latitude&&n.priceEstimator.end_longitude)return!0;throw{code:600}}).then(function(){return e.post("/api/getPriceEstimate",{start_latitude:n.priceEstimator.start_latitude,start_longitude:n.priceEstimator.start_longitude,end_latitude:n.priceEstimator.end_latitude,end_longitude:n.priceEstimator.end_longitude}).then(function(e){return e=e.data,t.main.responseStatusHandler(e),e})["catch"](function(e){throw e=e.data,t.main.responseStatusHandler(e),e})}).then(function(t){return n.priceEstimator.isBusy=!1,n.priceEstimateArray=t.obj.prices,!0})["catch"](function(e){if(600!==e.code)throw e;t.main.showToast("warning","Some fields are missing"),n.priceEstimator.isBusy=!1})["catch"](function(t){return n.uberConnect.isBusy=!1,console.log(t),!0})}},angular.element(".start input.geoField").geocomplete({details:".start .details",detailsAttribute:"data-geo"}).bind("geocode:result",function(t,e){var r=e.geometry.location.J,o=e.geometry.location.M,a=e.formatted_address;console.log(e.geometry.location),r&&o&&(n.updateStartLocation(r,o,a),n.drawRoute())}),angular.element(".end input.geoField").geocomplete({details:".end .details",detailsAttribute:"data-geo"}).bind("geocode:result",function(t,e){var r=e.geometry.location.J,o=e.geometry.location.M,a=e.formatted_address;r&&o&&(n.updateEndLocation(r,o,a),n.drawRoute())}),n.updateStartLocation=function(e,r,o){e=parseFloat(e).toFixed(10),r=parseFloat(r).toFixed(10),o&&(o=o.toString()),e&&r&&(n.priceEstimator.start_latitude=e,n.priceEstimator.start_longitude=r,n.priceEstimator.start_formatted_address=o,t.map.addMarker(e,r,o))},n.updateEndLocation=function(e,r,o){e=parseFloat(e).toFixed(10),r=parseFloat(r).toFixed(10),o&&(o=o.toString()),e&&r&&(n.priceEstimator.end_latitude=e,n.priceEstimator.end_longitude=r,n.priceEstimator.end_formatted_address=o,t.map.addMarker(e,r,o))},n.drawRoute=function(){n.priceEstimator.start_latitude&&n.priceEstimator.end_latitude&&t.map.drawRoute([n.priceEstimator.start_latitude,n.priceEstimator.start_longitude],[n.priceEstimator.end_latitude,n.priceEstimator.end_longitude])},n.startAtMyLocation=function(){return Promise.resolve().then(function(){return t.main.userLocation.latitude&&t.main.userLocation.longitude?[t.main.userLocation.latitude,t.main.userLocation.longitude]:t.map.getMyPosition().then(function(){return t.main.userLocation.latitude&&t.main.userLocation.longitude?[t.main.userLocation.latitude,t.main.userLocation.longitude]:(t.main.showToast("warning","Could not find your position"),null)})}).then(function(t){t&&(n.priceEstimator.start_latitude=t[0],n.priceEstimator.start_longitude=t[1])})["catch"](function(e){console.log(e),t.main.showToast("warning","An error occurred while trying to pin point your location")})},n.endAtMyLocation=function(){return Promise.resolve().then(function(){return t.main.userLocation.latitude&&t.main.userLocation.longitude?[t.main.userLocation.latitude,t.main.userLocation.longitude]:t.map.getMyPosition().then(function(){return t.main.userLocation.latitude&&t.main.userLocation.longitude?[t.main.userLocation.latitude,t.main.userLocation.longitude]:(t.main.showToast("warning","Could not find your position"),null)})}).then(function(t){t&&(n.priceEstimator.end_latitude=t[0],n.priceEstimator.end_longitude=t[1])})["catch"](function(e){console.log(e),t.main.showToast("warning","An error occurred while trying to pin point your location")})}}}}]).directive("mainMapScope",["$rootScope","$http",function(t,e){return{restrict:"AE",link:function(e){function n(){angular.element("body.homepage #map").css({height:angular.element(window).height()-angular.element("homepage main-navigation").height(),margin:0,"padding-left":0})}n(),angular.element(window).resize(function(){n()});var r=new GMaps({div:"#map",lat:-12.043333,lng:-77.028333});t.map={getMyPosition:function(){return new Promise(function(e,n){GMaps.geolocate({success:function(e){t.main.updateUserLocation(e.coords.latitude,e.coords.longitude),r.setCenter(e.coords.latitude,e.coords.longitude),r.addMarker({lat:e.coords.latitude,lng:e.coords.longitude,title:""}),r.addMarker({lat:e.coords.latitude-.004,lng:e.coords.longitude+.004,title:""})},error:function(t){alert("Geolocation failed: "+t.message)},not_supported:function(){alert("Your browser does not support geolocation")},always:function(){e(!0)}})})},addMarker:function(t,e,n){r.addMarker({lat:t,lng:e,title:n||""})},drawRoute:function(e,n){e&&n&&(e.length<2||n.length<2||(r.cleanRoute(),r.removeMarkers(),t.map.addMarker(e[0],e[1]),t.map.addMarker(n[0],n[1]),r.drawRoute({origin:e,destination:n,travelMode:"driving",strokeColor:"#09091A",strokeOpacity:.6,strokeWeight:6})))}},t.map.getMyPosition()}}}]),angular.module("app").filter("responseFilter",["$q","$log","$window","$rootScope","ngDialog",function(t,e,n,r,o){return function(t){function a(t,e,n){return{show:t?!0:!1,bannerClass:e,msg:n}}function i(){o.open({template:"/dialog/not-authorized.html",className:"ngdialog-theme-default",overlay:!0,showClose:!1,closeByEscape:!0,closeByDocument:!0,cache:!1,trapFocus:!0,preserveFocus:!0})}function s(t){o.openConfirm({data:{message:t},template:"/dialog/sign-in.html",className:"ngdialog-theme-default",overlay:!0,showClose:!1,closeByEscape:!1,closeByDocument:!1,cache:!0,trapFocus:!0,preserveFocus:!0}).then(function(){r.main.redirectToPage("/notLoggedIn")},function(){r.main.redirectToPage("/about")})}if(null!==t&&"object"==typeof t){if(t.redirect&&(t.redirectPage&&(n.location.href=t.redirectPage),t.redirectState&&r.main.changeState(t.redirectState)),t.reload&&r.main.reloadPage(),t.notify&&t.type&&t.msg&&r.main.showToast(t.type,t.msg),t.dialog&&t.id)switch(t.id){case"not-authorized":i();break;case"sign-in":s(t.msg)}t.banner&&t.bannerClass&&t.msg&&r.$broadcast("universalBanner",a(!0,t.bannerClass,t.msg)),t.signInBanner&&t.bannerClass&&t.msg&&r.$broadcast("signInBanner",a(!0,t.bannerClass,t.msg)),t.registrationBanner&&t.bannerClass&&t.msg&&r.$broadcast("registrationBanner",a(!0,t.bannerClass,t.msg)),t.reason&&e.warn(t.reason)}return!0}}]),angular.module("app").controller("indexController",["$rootScope","$http",function(t,e){t.main.classes.body="index"}]).directive("indexnScope",["$rootScope","$http",function(t,e){return{restrict:"AE",link:function(t){}}}]);
//# sourceMappingURL=app.min.js.map
