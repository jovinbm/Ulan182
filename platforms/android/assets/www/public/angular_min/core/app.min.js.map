{"version":3,"sources":["app.js","universalCtrl.js","account/connectToUber.js","account/createAccount.js","account/logout.js","account/signIn.js","index/index.js","home_core/home_core.js","home_core/location_search_box.js","home_core/map.js","home_core/price_estimate.js","home_core/request_uber.js","home_core/ride_status.js","req/response_filter.js"],"names":["trackDigests","app","run","$rootScope","Promise","setScheduler","cb","$evalAsync","angular","module","config","$stateProvider","$urlRouterProvider","$interpolateProvider","startSymbol","endSymbol","otherwise","state","url","views","main","templateUrl","controller","$httpProvider","interceptors","push","$q","$location","$localstorage","request","headers","get","Authorization","response","when","$state","$stateParams","constant","baseUrl","localStorageServiceProvider","setPrefix","setStorageCookieDomain","document","location","hostname","search","setStorageType","$filter","$window","$scope","ngDialog","$anchorScroll","localStorageService","$http","toastr","$interval","service_rideStatus","$ionicPopup","$ionicPopover","$timeout","GLOBAL","uberRideRequestStatuses","classes","body","userData","getUserData","resolve","then","post","resp","data","responseStatusHandler","err","user","changeState","console","log","getCurrentState","current","name","toState","ifInArray","ifNotInArray","currentState","indexOf","go","redirectToLogin","href","reloadPage","reload","redirectToHome","redirectToPage","path","redirectToPreviousPage","window","referrer","showToast","toastType","text","showIonicAlert","heading","content","alert","title","template","showIonicJSONAlert","JSON","stringify","$on","event","toParams","fromState","fromParams","$watch","oldVal","uber","access_token","directive","$cordovaOauth","restrict","link","uberConnect","isBusy","status","getUberAuthorizationUrl","result","error","createAccount","details","set","token","registrationDetails","password1","password2","createMain","email","firstName","lastName","username","logout","localUserLogin","loginData","loginFormModel","password","signInMain","submitLocalLoginForm","factory","key","value","localStorage","defaultValue","setObject","getObject","parse","getProducts","lat","lng","code","timeout","latitude","longitude","products","obj","e","TimeoutError","getPriceEstimates","start_lat","start_lng","end_lat","end_lng","start_latitude","start_longitude","end_latitude","end_longitude","priceEstimateArray","prices","getTimeEstimates","timeEstimateArray","times","getUberRideStatus","rStatus","driver","ratingArray","Array","Math","ceil","rating","rideStatus","checkUberRide","processing","no_drivers_available","accepted","arriving","in_progress","driver_canceled","rider_canceled","completed","getRideStatus","$element","$attr","element","find","val","formatted_address","geocomplete","bind","$apply","resizeMap","css","height","margin","padding-left","resize","GMaps","prototype","_getMyPosition","map","_myLocation","reject","geolocate","success","position","coords","not_supported","_updateMyPosition","_addMarker","this","addMarker","_addInfoWindowMarker","infoWindow","_userMarker","_userInfoWindowMarker","_addUserMarker","_addUserInfoWindowMarker","_moveMarker","marker","setPosition","google","maps","LatLng","_updateUserMarker","_updateUserInfoWindowMarker","_removeMarker","setMap","_removeAllPresentMarkers","removeMarkers","_setCenter","setCenter","_setCenterToMe","_drawRoute","originArr","destArr","length","cleanRoute","drawRoute","origin","destination","travelMode","strokeColor","strokeOpacity","strokeWeight","div","$","refresh","$ionicSlideBoxDelegate","priceEstimatorCtrlMain","showEstimates","goToSlide","index","slide","parseInt","nextSlide","next","previousSlide","previous","service_uberPrices","priceEstimator","start_formatted_address","end_formatted_address","arr","updateStartLocation","parseFloat","toFixed","toString","updateEndLocation","startAtMyLocation","userLocation","array","endAtMyLocation","requestUberControllerMain","showStatus","service_uberProducts","service_uberTimeEstimates","requestUberMain","product_id","selectedProductPriceEstimate","selectedProduct","changeProductId","newId","product_display_name","forEach","product","localized_display_name","toLowerCase","display_name","estimate","requestUber","updateTimeEstimates","uberRideStatusControllerMain","checkStatus","uberRideStatusMain","lastRide","startLatitude","startLongitude","endLatitude","endLongitude","driver_latitude","driver_longitude","driver_info_window_marker","updateUberRequestSandbox","delay","filter","$log","redirect","redirectPage","redirectState","notify","type","msg","dialog","id","banner","bannerClass","signInBanner","registrationBanner","reason","warn"],"mappings":"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","file":"app.min.js","sourcesContent":["function trackDigests(app) {\n    app.run([\"$rootScope\", function ($rootScope) {\n        Promise.setScheduler(function (cb) {\n            $rootScope.$evalAsync(cb);\n        });\n    }]);\n}\n\n//angular sanitize included in textAngular\nvar app = angular.module('app', [\n    'ngSanitize',\n    'ui.bootstrap',\n    'toastr',\n    'ui.router',\n    'ngDialog',\n    'LocalStorageModule',\n    'ionic',\n    'ngCordova',\n    'ngCordovaOauth'\n]);\n\napp.config(function ($stateProvider, $urlRouterProvider, $interpolateProvider) {\n    //\n\n    /*symbol to work with express handlebars\n     * */\n    $interpolateProvider.startSymbol('{[{');\n    $interpolateProvider.endSymbol('}]}');\n\n    // For any unmatched url, redirect to /index\n    $urlRouterProvider.otherwise(\"/index\");\n\n    $stateProvider\n        .state('index', {\n            url: \"/index\",\n            views: {\n                'main': {\n                    templateUrl: \"_index.html\"\n                }\n            }\n        })\n        .state('register', {\n            url: \"/register\",\n            views: {\n                'main': {\n                    templateUrl: \"_create_account.html\"\n                }\n            }\n        })\n        .state('login', {\n            url: \"/login\",\n            views: {\n                'main': {\n                    templateUrl: \"_sign_in.html\"\n                }\n            }\n        })\n        .state('home', {\n            url: \"/home\",\n            views: {\n                'main': {\n                    templateUrl: \"_welcome.html\"\n                }\n            }\n        })\n        .state('priceEstimator', {\n            url: \"/estimator\",\n            views: {\n                'main': {\n                    controller: 'priceEstimateController',\n                    templateUrl: \"_price_estimates.html\"\n                }\n            }\n        })\n        .state('requestUber', {\n            url: \"/requestUber\",\n            views: {\n                'main': {\n                    controller: \"requestUberController\",\n                    templateUrl: \"_request_uber.html\"\n                }\n            }\n        })\n        .state('rideStatus', {\n            url: \"/rideStatus\",\n            views: {\n                'main': {\n                    controller: 'uberRideStatusController',\n                    templateUrl: \"_ride_status.html\"\n                }\n            }\n        })\n        .state('connectToUber', {\n            url: \"/connect\",\n            views: {\n                'main': {\n                    templateUrl: \"_connect_to_uber.html\"\n                }\n            }\n        });\n});\n\n/*\n * update tokens\n * */\napp.config(function ($httpProvider) {\n    $httpProvider.interceptors.push(['$q', '$location', '$localstorage', function ($q, $location, $localstorage) {\n        return {\n            'request': function (config) {\n                config.headers = config.headers || {};\n                if ($localstorage.get('token')) {\n                    config.headers.Authorization = 'Bearer ' + $localstorage.get('token');\n                }\n                return config;\n            }\n\n            , response: function (response) {\n                return response || $q.when(response);\n            }\n        };\n    }]);\n});\n\napp.run(function ($rootScope, $state, $stateParams) {\n    $rootScope.$state = $state;\n    $rootScope.$stateParams = $stateParams;\n});\n\napp.constant(\"GLOBAL\", {\n    baseUrl: 'http://www.pluschat.net/api'\n});\n\ntrackDigests(app);","angular.module('app')\n    .config(function (localStorageServiceProvider) {\n        localStorageServiceProvider\n            .setPrefix('app')\n            .setStorageCookieDomain(document.location.hostname.search(\"uber\") !== -1 ? 'uber.org' : '')\n            .setStorageType('localStorage');\n    });\n\nangular.module('app')\n    .controller('UniversalController',\n    ['$filter', '$window', '$location', '$scope', '$rootScope', 'ngDialog', '$anchorScroll', 'localStorageService', '$http', '$state', 'toastr', '$interval', 'service_rideStatus', '$ionicPopup', '$ionicPopover', '$timeout', 'GLOBAL',\n        function ($filter, $window, $location, $scope, $rootScope, ngDialog, $anchorScroll, localStorageService, $http, $state, toastr, $interval, service_rideStatus, $ionicPopup, $ionicPopover, $timeout, GLOBAL) {\n\n            $rootScope.main = {\n\n                uberRideRequestStatuses: service_rideStatus.uberRideRequestStatuses,\n\n                classes: {\n                    body: 'index'\n                },\n\n                userData: null,\n\n                getUserData: function () {\n                    return Promise.resolve()\n                        .then(function () {\n                            return $http.post(GLOBAL.baseUrl + '/getUserData', {})\n                                .then(function (resp) {\n                                    resp = resp.data;\n                                    $rootScope.main.responseStatusHandler(resp);\n                                    return resp.userData;\n                                })\n                                .catch(function (err) {\n                                    err = err.data;\n                                    $rootScope.main.responseStatusHandler(err);\n                                    throw err;\n                                })\n                        })\n                        .then(function (user) {\n                            if (user) {\n                                $rootScope.main.userData = user;\n                            } else {\n                                $rootScope.main.userData = null;\n                            }\n                            return true;\n                        })\n                        .then(function () {\n                            if (!$rootScope.main.userData) {\n                                $rootScope.main.changeState('index', null, ['index', 'register', 'login']);\n                            } else {\n                                $rootScope.main.changeState('home', ['index', 'register', 'login'], null);\n                            }\n                        })\n                        .catch(function (err) {\n                            console.log(err);\n                            return true;\n                        })\n                },\n\n                getCurrentState: function () {\n                    return $state.current.name;\n                },\n\n                changeState: function (toState, ifInArray, ifNotInArray) {\n                    var currentState = $rootScope.main.getCurrentState();\n                    if (ifInArray) {\n                        if (ifInArray.indexOf(currentState) > -1) {\n                            $state.go(toState);\n                        }\n                    } else if (ifNotInArray) {\n                        if (ifNotInArray.indexOf(currentState) == -1) {\n                            $state.go(toState);\n                        }\n                    } else if (toState) {\n                        $state.go(toState);\n                    } else {\n                        //do nothing\n                        return true;\n                    }\n                },\n\n                redirectToLogin: function () {\n                    $window.location.href = '/notLoggedIn';\n                },\n\n                reloadPage: function () {\n                    $window.location.reload();\n                },\n\n                redirectToHome: function () {\n                    $window.location.href = '/';\n                },\n\n                redirectToPage: function (path) {\n                    $window.location.href = path;\n                },\n\n                redirectToPreviousPage: function () {\n                    window.location.href = document.referrer;\n                },\n\n                responseStatusHandler: function (resp) {\n                    $filter('responseFilter')(resp);\n                },\n\n                showToast: function (toastType, text) {\n                    return $rootScope.main.showIonicAlert('Info', text);\n                },\n\n                showIonicAlert: function (heading, content) {\n                    return $ionicPopup.alert({\n                        title: heading,\n                        template: content\n                    });\n                },\n\n                showIonicJSONAlert: function (data) {\n                    $rootScope.main.showIonicAlert('JSON', JSON.stringify(data))\n                }\n\n            };\n\n            $rootScope.$on('$stateChangeSuccess', function (event, toState, toParams, fromState, fromParams) {\n                $rootScope.main.getUserData();\n            });\n\n\n            /*\n             * important, check if user is not connected to uber\n             * */\n            $scope.$watch(function () {\n                return $rootScope.main.userData\n            }, function (userData, oldVal) {\n                if (userData) {\n                    if (userData.uber.access_token == '') {\n                        $rootScope.main.changeState('connectToUber');\n                    }\n                }\n            });\n        }\n    ]);","angular.module('app')\n    .directive('uberConnect', ['$rootScope', '$http', '$cordovaOauth', 'GLOBAL',\n        function ($rootScope, $http, $cordovaOauth, GLOBAL) {\n            return {\n                restrict: 'AE',\n                link: function ($scope) {\n                    $scope.uberConnect = {\n                        isBusy: false,\n                        status: '',\n\n                        getUberAuthorizationUrl: function () {\n\n                            $scope.uberConnect.isBusy = true;\n                            $scope.uberConnect.status = 'Connecting...';\n\n                            return Promise.resolve()\n                                .then(function () {\n                                    $cordovaOauth.uber('5ZCEhRHb7dPloybTSGa3mojIcRIMBXVg', ['request', 'profile', 'history'], {})\n                                        .then(function (result) {\n                                            console.log(\"Response Object -> \" + JSON.stringify(result));\n                                        }, function (error) {\n                                            console.log(\"Error -> \" + error);\n                                        });\n                                });\n\n                            //return Promise.resolve()\n                            //    .then(function () {\n                            //        return $http.post(GLOBAL.baseUrl + '/getUberAuthorizationUrl', {})\n                            //            .then(function (resp) {\n                            //                resp = resp.data;\n                            //                $rootScope.main.responseStatusHandler(resp);\n                            //                return resp;\n                            //            })\n                            //            .catch(function (err) {\n                            //                err = err.data;\n                            //                $rootScope.main.responseStatusHandler(err);\n                            //                throw err;\n                            //            })\n                            //    })\n                            //    .then(function (resp) {\n                            //        $scope.uberConnect.isBusy = false;\n                            //        $rootScope.main.redirectToPage(resp.url);\n                            //        return true;\n                            //    })\n                            //    .catch(function (err) {\n                            //        $scope.uberConnect.isBusy = false;\n                            //        console.log(err);\n                            //        return true;\n                            //    })\n                        }\n                    }\n                }\n            };\n        }])","angular.module('app')\n    .controller('createAccountController', ['$rootScope', '$http', function ($rootScope, $http) {\n        $rootScope.main.classes.body = 'account-crud';\n    }])\n    .directive('createAccountScope', ['$rootScope', '$http', '$localstorage', 'GLOBAL', function ($rootScope, $http, $localstorage, GLOBAL) {\n        return {\n            restrict: 'AE',\n            link: function ($scope) {\n                $scope.createMain = {\n                    isBusy: false\n                };\n\n                $scope.registrationDetails = {\n                    email: \"\",\n                    firstName: \"\",\n                    lastName: \"\",\n                    username: \"\",\n                    password1: \"\",\n                    password2: \"\"\n                };\n\n                $scope.createAccount = function () {\n                    $scope.createMain.isBusy = true;\n                    return createAccount($scope.registrationDetails)\n                        .then(function () {\n                            $scope.createMain.isBusy = false;\n                        });\n                };\n\n                function createAccount(details) {\n                    return $http.post(GLOBAL.baseUrl + '/createAccount', details)\n                        .then(function (resp) {\n                            resp = resp.data;\n                            /*\n                             * save the users token\n                             * */\n                            $localstorage.set('token', resp.token);\n                            $rootScope.main.responseStatusHandler(resp);\n                            return true;\n                        })\n                        .catch(function (err) {\n                            err = err.data;\n                            $rootScope.main.responseStatusHandler(err);\n                            $scope.registrationDetails.password1 = \"\";\n                            $scope.registrationDetails.password2 = \"\";\n                            return true;\n                        });\n                }\n            }\n        };\n    }]);","angular.module('app')\n    .directive('logoutScope', ['$rootScope', '$http', '$localstorage','GLOBAL', function ($rootScope, $http, $localstorage,GLOBAL) {\n        return {\n            restrict: 'AE',\n            link: function ($scope) {\n\n                $scope.logout = function () {\n                    return Promise.resolve()\n                        .then(function () {\n                            return $http.post(GLOBAL.baseUrl + '/logoutClient', {}).then(function (resp) {\n                                console.log(resp);\n                                resp = resp.data;\n                                /*\n                                 * delete token\n                                 * */\n                                $localstorage.set('token', '');\n                                $rootScope.main.responseStatusHandler(resp);\n                                $rootScope.main.userData = null;\n                                return true;\n                            })\n                                .catch(function (err) {\n                                    err = err.data;\n                                    $rootScope.main.responseStatusHandler(err);\n                                    return true;\n                                })\n                        })\n                        .catch(function (err) {\n                            console.log(err);\n                            return true;\n                        })\n                }\n            }\n        };\n    }]);","angular.module('app')\n    .controller('signInController', ['$rootScope', '$http', 'GLOBAL', function ($rootScope, $http, GLOBAL) {\n        $rootScope.main.classes.body = 'account-crud';\n    }])\n    .directive('signInScope', ['$rootScope', '$http', '$localstorage', 'GLOBAL', function ($rootScope, $http, $localstorage, GLOBAL) {\n        return {\n            restrict: 'AE',\n            link: function ($scope) {\n\n                $scope.signInMain = {\n                    isBusy: false\n                };\n\n                $scope.loginFormModel = {\n                    username: \"\",\n                    password: \"\"\n                };\n\n                $scope.submitLocalLoginForm = function () {\n                    $scope.signInMain.isBusy = true;\n                    return localUserLogin($scope.loginFormModel)\n                        .then(function () {\n                            $scope.signInMain.isBusy = false;\n                        });\n                };\n\n                function localUserLogin(loginData) {\n                    return Promise.resolve()\n                        .then(function () {\n                            return $http.post(GLOBAL.baseUrl + '/localUserLogin', loginData);\n                        })\n                        .then(function (resp) {\n                            resp = resp.data;\n                            /*\n                             * save the users token before redirecting\n                             * */\n                            $localstorage.set('token', resp.token);\n                            $rootScope.main.responseStatusHandler(resp);\n                            return true;\n                        })\n                        .catch(function (err) {\n                            $rootScope.main.responseStatusHandler(err);\n                            err = err.data;\n                            $scope.loginFormModel.password = \"\";\n                            $rootScope.main.responseStatusHandler(err);\n                            return true;\n                        });\n                }\n            }\n        };\n    }]);","angular.module('app')\n    .controller('indexController', ['$rootScope', '$http', function ($rootScope, $http) {\n        $rootScope.main.classes.body = 'index';\n    }])\n    .directive('indexnScope', ['$rootScope', '$http', function ($rootScope, $http) {\n        return {\n            restrict: 'AE',\n            link: function ($scope) {\n            }\n        };\n    }]);","angular.module('app')\n    .controller('homeCoreController', ['$rootScope', '$scope', '$http', function ($rootScope, $scope, $http) {\n        $rootScope.main.classes.body = 'homepage';\n\n    }])\n    .factory('$localstorage', ['$window', function ($window) {\n        return {\n            set: function (key, value) {\n                $window.localStorage[key] = value;\n            },\n            get: function (key, defaultValue) {\n                return $window.localStorage[key] || defaultValue;\n            },\n            setObject: function (key, value) {\n                $window.localStorage[key] = JSON.stringify(value);\n            },\n            getObject: function (key) {\n                return JSON.parse($window.localStorage[key] || '{}');\n            }\n        }\n    }])\n    .factory(\"service_uberProducts\", ['$interval', '$rootScope', '$http', '$timeout', 'GLOBAL', function ($interval, $rootScope, $http, $timeout, GLOBAL) {\n        /*\n         * polls the available products etc\n         * */\n\n        var format = {\n            \"products\": [\n                {\n                    \"capacity\": 4,\n                    \"description\": \"The low-cost Uber\",\n                    \"price_details\": {\n                        \"distance_unit\": \"mile\",\n                        \"cost_per_minute\": 0.26,\n                        \"service_fees\": [\n                            {\n                                \"fee\": 1.0,\n                                \"name\": \"Safe Rides Fee\"\n                            }\n                        ],\n                        \"minimum\": 5.0,\n                        \"cost_per_distance\": 1.3,\n                        \"base\": 2.2,\n                        \"cancellation_fee\": 5.0,\n                        \"currency_code\": \"USD\"\n                    },\n                    \"image\": \"http://d1a3f4spazzrp4.cloudfront.net/car.jpg\",\n                    \"display_name\": \"uberX\",\n                    \"product_id\": \"a1111c8c-c720-46c3-8534-2fcdd730040d\"\n                }\n            ]\n        };\n        var TimeoutError = Promise.TimeoutError;\n\n        var products = null;\n\n        function getProducts(lat, lng) {\n\n            /*\n             * either returns products or []\n             * */\n\n            if (!$rootScope.main || !$rootScope.main.userData) return [];\n\n            return Promise.resolve()\n                .then(function () {\n\n                    if (lat && lng) {\n                        return true;\n                    } else {\n                        throw {\n                            code: 600\n                        };\n                    }\n                })\n                .timeout(55000) // timeout in 55 secs\n                .then(function () {\n                    return $http.post(GLOBAL.baseUrl + '/getProducts', {\n                        latitude: lat,\n                        longitude: lng\n                    })\n                        .then(function (resp) {\n                            resp = resp.data;\n                            $rootScope.main.responseStatusHandler(resp);\n                            return resp;\n                        })\n                        .catch(function (err) {\n                            err = err.data;\n                            $rootScope.main.responseStatusHandler(err);\n                            throw err;\n                        })\n                })\n                .then(function (resp) {\n                    products = resp.obj.products;\n                    return resp.obj.products;\n                })\n                .catch(function (e) {\n                    if (e.code === 600) {\n                        $rootScope.main.showToast('warning', 'We could not determine your precise location to list the available products in your area');\n                        products = [];\n                        return [];\n                    } else {\n                        throw e\n                    }\n                })\n                .catch(TimeoutError, function (e) {\n                    $rootScope.main.showToast('warning', 'Failed to get time estimates. Please check your internet connection.');\n                    products = [];\n                    return [];\n                })\n                .catch(function (err) {\n                    console.log(err);\n                    products = [];\n                    return [];\n                })\n        }\n\n        return {\n            getProducts: getProducts, //isFunction\n            products: function () {\n                return products;\n            }\n        };\n    }])\n    .factory(\"service_uberPrices\", ['$interval', '$rootScope', '$http', 'GLOBAL', function ($interval, $rootScope, $http, GLOBAL) {\n        /*\n         * polls the available products, estimates etc\n         * */\n\n        var format = {\n            \"prices\": [\n                {\n                    \"product_id\": \"08f17084-23fd-4103-aa3e-9b660223934b\",\n                    \"currency_code\": \"USD\",\n                    \"display_name\": \"UberBLACK\",\n                    \"estimate\": \"$23-29\",\n                    \"low_estimate\": 23,\n                    \"high_estimate\": 29,\n                    \"surge_multiplier\": 1,\n                    \"duration\": 640,\n                    \"distance\": 5.34\n                }\n            ]\n        };\n        var TimeoutError = Promise.TimeoutError;\n\n        var priceEstimateArray = null;\n\n        function getPriceEstimates(start_lat, start_lng, end_lat, end_lng) {\n\n            /*\n             * either returns array or []\n             * */\n\n            if (!$rootScope.main || !$rootScope.main.userData) return [];\n\n            return Promise.resolve()\n                .then(function () {\n\n                    if (start_lat && start_lng && end_lat && end_lng) {\n                        return true;\n                    } else {\n                        throw {\n                            code: 600\n                        };\n                    }\n                })\n                .timeout(55000) // timeout in 55 secs\n                .then(function () {\n                    return $http.post(GLOBAL.baseUrl + '/getPriceEstimate', {\n                        start_latitude: start_lat,\n                        start_longitude: start_lng,\n                        end_latitude: end_lat,\n                        end_longitude: end_lng\n                    })\n                        .then(function (resp) {\n                            resp = resp.data;\n                            $rootScope.main.responseStatusHandler(resp);\n                            return resp;\n                        })\n                        .catch(function (err) {\n                            err = err.data;\n                            $rootScope.main.responseStatusHandler(err);\n                            throw err;\n                        })\n                })\n                .then(function (resp) {\n                    priceEstimateArray = resp.obj.prices;\n                    return resp.obj.prices;\n                })\n                .catch(function (e) {\n                    if (e.code === 600) {\n                        $rootScope.main.showToast('warning', 'Some fields are missing');\n                        priceEstimateArray = [];\n                        return [];\n                    } else {\n                        throw e\n                    }\n                })\n                .catch(TimeoutError, function (e) {\n                    $rootScope.main.showToast('warning', 'Failed to get time estimates. Please check your internet connection.');\n                    priceEstimateArray = [];\n                    return [];\n                })\n                .catch(function (err) {\n                    console.log(err);\n                    priceEstimateArray = [];\n                    return [];\n                });\n        }\n\n        return {\n            getPriceEstimates: getPriceEstimates, //isFunction\n            priceEstimateArray: function () {\n                return priceEstimateArray;\n            }\n        };\n    }])\n    .factory(\"service_uberTimeEstimates\", ['$interval', '$rootScope', '$http', 'GLOBAL', function ($interval, $rootScope, $http, GLOBAL) {\n        /*\n         * pickup time estimates for various products etc\n         * */\n\n        var format = {\n            \"times\": [\n                {\n                    \"product_id\": \"5f41547d-805d-4207-a297-51c571cf2a8c\",\n                    \"display_name\": \"UberBLACK\",\n                    \"estimate\": 410\n                }\n            ]\n        };\n        var TimeoutError = Promise.TimeoutError;\n\n        var timeEstimateArray = null;\n\n        function getTimeEstimates(start_lat, start_lng) {\n\n            /*\n             * either returns array or []\n             * */\n\n            if (!$rootScope.main || !$rootScope.main.userData) return [];\n\n            return Promise.resolve()\n                .then(function () {\n\n                    if (start_lat && start_lng) {\n                        return true;\n                    } else {\n                        throw {\n                            code: 600\n                        };\n                    }\n                })\n                .timeout(55000) // timeout in 55 secs\n                .then(function () {\n                    return $http.post(GLOBAL.baseUrl + '/getTimeEstimate', {\n                        start_latitude: start_lat,\n                        start_longitude: start_lng\n                    })\n                        .then(function (resp) {\n                            resp = resp.data;\n                            $rootScope.main.responseStatusHandler(resp);\n                            return resp;\n                        })\n                        .catch(function (err) {\n                            err = err.data;\n                            $rootScope.main.responseStatusHandler(err);\n                            throw err;\n                        })\n                })\n                .then(function (resp) {\n                    timeEstimateArray = resp.obj.times;\n                    return resp.obj.times;\n                })\n                .catch(function (e) {\n                    if (e.code === 600) {\n                        $rootScope.main.showToast('warning', 'Some fields are missing');\n                        timeEstimateArray = [];\n                        return [];\n                    } else {\n                        throw e\n                    }\n                })\n                .catch(TimeoutError, function (e) {\n                    $rootScope.main.showToast('warning', 'Failed to get time estimates. Please check your internet connection.');\n                    timeEstimateArray = [];\n                    return [];\n                })\n                .catch(function (err) {\n                    console.log(err);\n                    timeEstimateArray = [];\n                    return [];\n                });\n        }\n\n        return {\n            getTimeEstimates: getTimeEstimates, //isFunction\n            timeEstimateArray: function () {\n                return timeEstimateArray;\n            }\n        };\n    }])\n    .factory(\"service_rideStatus\", ['$interval', '$rootScope', '$http', 'GLOBAL', function ($interval, $rootScope, $http, GLOBAL) {\n        /*\n         * polls the ride status\n         * */\n\n        var format = {\n            \"status\": \"accepted\",\n            \"driver\": {\n                \"phone_number\": \"(555)555-5555\",\n                \"rating\": 5,\n                \"picture_url\": \"https:\\/\\/d1w2poirtb3as9.cloudfront.net\\/img.jpeg\",\n                \"name\": \"Bob\"\n            },\n            \"eta\": 4,\n            \"location\": {\n                \"latitude\": 37.776033,\n                \"longitude\": -122.418143,\n                \"bearing\": 33\n            },\n            \"vehicle\": {\n                \"make\": \"Bugatti\",\n                \"model\": \"Veyron\",\n                \"license_plate\": \"I<3Uber\",\n                \"picture_url\": \"https:\\/\\/d1w2poirtb3as9.cloudfront.net\\/car.jpeg\"\n            },\n            \"surge_multiplier\": 1.0,\n            \"request_id\": \"b2205127-a334-4df4-b1ba-fc9f28f56c96\",\n            //cojoined details in server\n            \"mapDetails\": {\n                \"request_id\": \"b5512127-a134-4bf4-b1ba-fe9f48f56d9d\",\n                \"href\": \"https://trip.uber.com/abc123\"\n            },\n            \"lastRide\": \"**last ride details from database\"\n        };\n\n        var TimeoutError = Promise.TimeoutError;\n\n        var rideStatus = null;\n\n        var uberRideRequestStatuses = {\n            processing: \"Processing\",\n            no_drivers_available: 'No drivers available',\n            accepted: 'Accepted',\n            arriving: 'Arriving',\n            in_progress: 'In progress',\n            driver_canceled: 'Driver canceled',\n            rider_canceled: 'Rider canceled',\n            completed: 'Completed'\n        };\n\n\n        function getUberRideStatus() {\n\n            if (!$rootScope.main || !$rootScope.main.userData) return [];\n\n            /*\n             * either returns array or null**\n             * */\n\n            return Promise.resolve()\n                .timeout(8000) // timeout in 13 secs\n                .then(function () {\n                    return $http.post(GLOBAL.baseUrl + '/getRideStatus', {})\n                        .then(function (resp) {\n                            resp = resp.data;\n                            $rootScope.main.responseStatusHandler(resp);\n                            return resp;\n                        })\n                        .catch(function (err) {\n                            err = err.data;\n                            $rootScope.main.responseStatusHandler(err);\n                            throw err;\n                        })\n                })\n                .then(function (resp) {\n                    var rStatus = resp.obj;\n                    /*\n                     * put a rating array for the ng-repeat stars\n                     * */\n                    if (!rStatus) {\n                        rideStatus = null;\n                        return true;\n                    }\n\n                    if (rStatus.driver) {\n                        rStatus.driver.ratingArray = new Array(Math.ceil(rStatus.driver.rating));\n                    }\n                    rideStatus = rStatus;\n                    return rideStatus;\n                })\n                .catch(function (e) {\n                    if (e.code === 600) {\n                        $rootScope.main.showToast('warning', 'Some fields are missing');\n                        //don't change the ride status\n                        return rideStatus;\n                    } else {\n                        throw e\n                    }\n                })\n                .catch(TimeoutError, function (e) {\n                    $rootScope.main.showToast('warning', 'Failed to get time estimates. Please check your internet connection.');\n                    //don't change the ride status\n                    return rideStatus;\n                })\n                .catch(function (err) {\n                    console.log(err);\n                    return rideStatus;\n                })\n                .then(function () {\n                    checkUberRide();\n                });\n        }\n\n        $interval(function () {\n            getUberRideStatus();\n        }, 10000); //update every 15 secs\n        getUberRideStatus();\n\n        /*\n         * function checks if the user has requested an uber, if so, it forces the user to remain in the requestUber state\n         * */\n        function checkUberRide() {\n            if (rideStatus) {\n                $rootScope.main.changeState('rideStatus', null, ['rideStatus']);\n            }\n        }\n\n        $rootScope.$on('$stateChangeSuccess', function () {\n            if (rideStatus) {\n                $rootScope.main.changeState('rideStatus', null, ['rideStatus']);\n            }\n        });\n\n        return {\n            rideStatus: function () {\n                return rideStatus\n            },\n            getRideStatus: function () {\n                return getUberRideStatus();\n            },\n            uberRideRequestStatuses: uberRideRequestStatuses\n        };\n    }]);","angular.module('app')\n    .directive('locationSearchBox', ['$rootScope', '$http', function ($rootScope, $http) {\n        return {\n            restrict: 'AE',\n            link: function ($scope, $element, $attr) {\n\n                $scope.lat = angular.element($element.find('.details input.lat')).val();\n                $scope.lng = angular.element($element.find('.details input.lng')).val();\n                $scope.formatted_address = angular.element($element.find('.details input.formatted_address')).val();\n                /*\n                 * auto complete for the input.geoFields\n                 * */\n                angular.element($element.find('input.geoField')).geocomplete({\n                    details: angular.element($element.find('.details'))\n                })\n                    .bind(\"geocode:result\", function () {\n                        $scope.lat = angular.element($element.find('.details input.lat')).val();\n                        $scope.lng = angular.element($element.find('.details input.lng')).val();\n                        $scope.formatted_address = angular.element($element.find('.details input.formatted_address')).val();\n\n                        $scope.$apply($attr['locationUpdate']);\n                    });\n            }\n        };\n    }]);","angular.module('app')\n    .controller('mapController', ['$rootScope', '$scope', '$http', '$interval', '$timeout',\n        function ($rootScope, $scope, $http, $interval, $timeout) {\n\n            function resizeMap() {\n                angular.element(\"#map\").css({\n                    \"height\": angular.element(window).height(),\n                    \"margin\": 0,\n                    \"padding-left\": 0\n                });\n            }\n\n            angular.element(window).resize(function () {\n                resizeMap();\n            });\n\n            resizeMap();\n\n\n            GMaps.prototype._getMyPosition = function (map) {\n                if (map._myLocation.lat && map._myLocation.lng) {\n                    return {\n                        lat: map._myLocation.lat,\n                        lng: map._myLocation.lng\n                    }\n                } else {\n                    return Promise.resolve()\n                        .then(function () {\n                            return new Promise(function (resolve, reject) {\n                                GMaps.geolocate({\n                                    success: function (position) {\n                                        map._myLocation.lat = position.coords.latitude;\n                                        map._myLocation.lng = position.coords.longitude;\n                                        resolve({\n                                            lat: map._myLocation.lat,\n                                            lng: map._myLocation.lng\n                                        });\n                                    },\n                                    error: function (error) {\n                                        $rootScope.main.showToast('warning', 'Geolocation failed');\n                                        console.log(error);\n                                        resolve(null)\n                                    },\n                                    not_supported: function () {\n                                        $rootScope.main.showToast('warning', 'Your browser does not support geolocation');\n                                        resolve(null)\n                                    }\n                                });\n                            })\n                        })\n                }\n            };\n\n\n            GMaps.prototype._updateMyPosition = function (map) {\n                /*\n                 * if userLocation is found, the universalController object is updated with the user location\n                 * */\n                return new Promise(function (resolve, reject) {\n                    GMaps.geolocate({\n                        success: function (position) {\n                            map._myLocation.lat = position.coords.latitude;\n                            map._myLocation.lng = position.coords.longitude;\n                            resolve(true);\n                        },\n                        error: function (error) {\n                            console.log(error);\n                            $rootScope.main.showToast('warning', 'We could not update your location...');\n                            resolve(true);\n                        }\n                    });\n                })\n            };\n\n            GMaps.prototype._myLocation = {\n                lat: null,\n                lng: null\n            };\n\n            GMaps.prototype._addMarker = function (lat, lng, title) {\n                return this.addMarker({\n                    lat: lat,\n                    lng: lng,\n                    title: title || ''\n                });\n            };\n\n            GMaps.prototype._addInfoWindowMarker = function (lat, lng, title) {\n                return this.addMarker({\n                    lat: lat,\n                    lng: lng,\n                    infoWindow: {\n                        content: '<p>' + title + '</p>'\n                    }\n                });\n            };\n\n            GMaps.prototype._userMarker = null;\n            GMaps.prototype._userInfoWindowMarker = null;\n\n            GMaps.prototype._addUserMarker = function () {\n                this._userMarker = this.addMarker({\n                    lat: $rootScope.map._myLocation.lat,\n                    lng: $rootScope.map._myLocation.lat,\n                    title: ''\n                });\n\n                return this._userMarker\n            };\n\n            GMaps.prototype._addUserInfoWindowMarker = function (title) {\n                this._userInfoWindowMarker = this.addMarker({\n                    lat: $rootScope.map._myLocation.lat,\n                    lng: $rootScope.map._myLocation.lat,\n                    infoWindow: {\n                        content: '<p>' + title + '</p>'\n                    }\n                });\n\n                return this._userInfoWindowMarker\n            };\n\n            GMaps.prototype._moveMarker = function (marker, lat, lng) {\n                marker.setPosition(new google.maps.LatLng(lat, lng));\n            };\n\n            GMaps.prototype._updateUserMarker = function () {\n                if (!this._userMarker) {\n                    this._addUserMarker()\n                } else {\n                    this._moveMarker(this._userMarker, this._myLocation.lat, this._myLocation.lng);\n                }\n            };\n\n            GMaps.prototype._updateUserInfoWindowMarker = function (title) {\n                if (!this._userInfoWindowMarker) {\n                    this._addUserInfoWindowMarker(title)\n                } else {\n                    this._moveMarker(this._userInfoWindowMarker, this._myLocation.lat, this._myLocation.lng);\n                }\n            };\n\n            GMaps.prototype._removeMarker = function (marker) {\n                marker.setMap(null);\n            };\n\n            GMaps.prototype._removeAllPresentMarkers = function () {\n                this.removeMarkers();\n            };\n\n            GMaps.prototype._setCenter = function (lat, lng) {\n                this.setCenter(lat, lng);\n            };\n\n            GMaps.prototype._setCenterToMe = function () {\n                if (this._myLocation.lat && this._myLocation.lng) {\n                    this.setCenter(this._myLocation.lat, this._myLocation.lng);\n                }\n            };\n\n            GMaps.prototype._drawRoute = function (originArr, destArr) {\n                if (!originArr || !destArr) return;\n                if (originArr.length < 2 || destArr.length < 2) return;\n                this.cleanRoute();\n                this.removeMarkers();\n\n                this.addMarker({lat: originArr[0], lng: originArr[1]});\n                this.addMarker({lat: destArr[0], lng: destArr[1]});\n\n                this.drawRoute({\n                    origin: originArr,\n                    destination: destArr,\n                    travelMode: 'driving',\n                    strokeColor: '#09091A',\n                    strokeOpacity: 0.6,\n                    strokeWeight: 6\n                });\n            };\n\n            $rootScope.map = new GMaps({\n                div: '#map',\n                lat: -12.043333,\n                lng: -77.028333\n            });\n\n            /*\n             * prepare functions that will update stuff, wait for 3 secs\n             * */\n            $timeout(function () {\n\n                resizeMap();\n\n                $rootScope.map._updateMyPosition($rootScope.map)\n                    .then(function () {\n                        $rootScope.map._setCenter($rootScope.map._myLocation.lat, $rootScope.map._myLocation.lng);\n                        $rootScope.map._addUserMarker($rootScope.map._myLocation.lat, $rootScope.map._myLocation.lng);\n                    });\n\n                $scope.$watch(function () {\n                    return $rootScope.map._myLocation.lat;\n                }, function () {\n                    if ($rootScope.map._userMarker) {\n                        $rootScope.map._moveMarker($rootScope.map._userMarker, $rootScope.map._myLocation.lat, $rootScope.map._myLocation.lng);\n                    }\n                });\n\n                $interval(function () {\n                    if ($rootScope.map._updateMyPosition) {\n                        $rootScope.map._updateMyPosition($rootScope.map);\n                    }\n                }, 10000); //update every 10 secs\n\n\n                /*\n                 * refresh on resize and state change\n                 * */\n                //resize event\n                $(window).resize(function () {\n                    $rootScope.map.refresh();\n                });\n\n            }, 3000);\n\n        }]);","angular.module('app')\n    .controller('priceEstimateController', ['$rootScope', '$scope', '$http', '$ionicPopover', '$ionicSlideBoxDelegate', function ($rootScope, $scope, $http, $ionicPopover, $ionicSlideBoxDelegate) {\n\n        $rootScope.main.classes.body = 'priceEstimate';\n\n        /*\n         * prepare the results popover\n         * */\n        $scope.priceEstimatorCtrlMain = {\n            /*\n             * priceEstimateArray contains the data obtained from price estimates\n             * including the types of cars available\n             * distance etc,\n             *\n             * updated when start/end location is chosen\n             * */\n            priceEstimateArray: [],\n            showEstimates: false\n        };\n\n        /*\n         * managing the slides\n         * */\n\n        $scope.goToSlide = function (index) {\n            $ionicSlideBoxDelegate.slide(parseInt(index));\n        };\n        $scope.nextSlide = function (index) {\n            $ionicSlideBoxDelegate.next();\n        };\n        $scope.previousSlide = function (index) {\n            $ionicSlideBoxDelegate.previous();\n        };\n    }])\n    .directive('priceEstimator', ['$rootScope', '$http', 'service_uberPrices', function ($rootScope, $http, service_uberPrices) {\n        return {\n            restrict: 'AE',\n            link: function ($scope, $element, $attr) {\n\n                $scope.priceEstimator = {\n                    isBusy: false,\n                    status: '',\n\n                    start_latitude: '',\n                    start_longitude: '',\n                    start_formatted_address: '',\n                    end_latitude: '',\n                    end_longitude: '',\n                    end_formatted_address: '',\n\n                    getPriceEstimates: function () {\n\n                        /*\n                         * these estimates should be for the whole journey\n                         * */\n                        if ($scope.priceEstimator.start_latitude && $scope.priceEstimator.start_longitude && $scope.priceEstimator.end_latitude && $scope.priceEstimator.end_longitude) {\n\n                            $scope.priceEstimator.isBusy = true;\n                            $scope.priceEstimator.status = 'Calculating...';\n\n                            return Promise.resolve()\n                                .then(function () {\n                                    return service_uberPrices.getPriceEstimates($scope.priceEstimator.start_latitude, $scope.priceEstimator.start_longitude, $scope.priceEstimator.end_latitude, $scope.priceEstimator.end_longitude)\n                                })\n                                .then(function (arr) {\n                                    $scope.priceEstimatorCtrlMain.priceEstimateArray = arr;\n                                    $scope.priceEstimator.isBusy = false;\n                                    /*\n                                     * show the estimates\n                                     * */\n                                    $scope.priceEstimatorCtrlMain.showEstimates = true;\n                                    $scope.goToSlide(0);\n                                    return true;\n                                })\n                                .catch(function (err) {\n                                    $scope.priceEstimator.isBusy = false;\n                                    console.log(err);\n                                    return true;\n                                });\n\n                        }\n                    }\n                };\n\n                $scope.updateStartLocation = function (lat, lng, formatted_address) {\n                    lat = parseFloat(lat).toFixed(10);\n                    lng = parseFloat(lng).toFixed(10);\n\n                    if (formatted_address) {\n                        formatted_address = formatted_address.toString();\n                    }\n\n                    if (lat && lng) {\n                        $scope.priceEstimator.start_latitude = lat;\n                        $scope.priceEstimator.start_longitude = lng;\n                        $scope.priceEstimator.start_formatted_address = formatted_address;\n\n                        $rootScope.map._addMarker(lat, lng, formatted_address);\n                        $rootScope.map._setCenter(lat, lng);\n                        $scope.drawRoute();\n                    }\n                };\n\n                $scope.updateEndLocation = function (lat, lng, formatted_address) {\n                    lat = parseFloat(lat).toFixed(10);\n                    lng = parseFloat(lng).toFixed(10);\n\n                    if (formatted_address) {\n                        formatted_address = formatted_address.toString();\n                    }\n\n                    if (lat && lng) {\n                        $scope.priceEstimator.end_latitude = lat;\n                        $scope.priceEstimator.end_longitude = lng;\n                        $scope.priceEstimator.end_formatted_address = formatted_address;\n\n                        $rootScope.map._addMarker(lat, lng, formatted_address);\n                        $scope.drawRoute();\n                    }\n                };\n\n                $scope.drawRoute = function () {\n                    if ($scope.priceEstimator.start_latitude && $scope.priceEstimator.end_latitude) {\n                        $rootScope.map._setCenter($scope.priceEstimator.start_latitude, $scope.priceEstimator.start_longitude);\n                        $rootScope.map._drawRoute([$scope.priceEstimator.start_latitude, $scope.priceEstimator.start_longitude], [$scope.priceEstimator.end_latitude, $scope.priceEstimator.end_longitude])\n                    }\n                };\n\n                $scope.startAtMyLocation = function () {\n                    return Promise.resolve()\n                        .then(function () {\n                            if ($rootScope.main.userLocation.latitude && $rootScope.main.userLocation.longitude) {\n                                return [$rootScope.main.userLocation.latitude, $rootScope.main.userLocation.longitude]\n                            } else {\n                                return $rootScope.map._getMyPosition($rootScope.map)\n                                    .then(function () {\n                                        if ($rootScope.main.userLocation.latitude && $rootScope.main.userLocation.longitude) {\n                                            return [$rootScope.main.userLocation.latitude, $rootScope.main.userLocation.longitude]\n                                        } else {\n                                            $rootScope.main.showToast('warning', 'Could not find your position');\n                                            return null;\n                                        }\n                                    })\n                            }\n                        })\n                        .then(function (array) {\n                            if (array) {\n                                $scope.priceEstimator.start_latitude = array[0];\n                                $scope.priceEstimator.start_longitude = array[1]\n                            } else {\n                                //do nothing\n                            }\n                        })\n                        .catch(function (e) {\n                            console.log(e);\n                            $rootScope.main.showToast('warning', 'An error occurred while trying to pin point your location');\n                        });\n                };\n\n                $scope.endAtMyLocation = function () {\n                    return Promise.resolve()\n                        .then(function () {\n                            if ($rootScope.main.userLocation.latitude && $rootScope.main.userLocation.longitude) {\n                                return [$rootScope.main.userLocation.latitude, $rootScope.main.userLocation.longitude]\n                            } else {\n                                return $rootScope.map._getMyPosition($rootScope.map)\n                                    .then(function () {\n                                        if ($rootScope.main.userLocation.latitude && $rootScope.main.userLocation.longitude) {\n                                            return [$rootScope.main.userLocation.latitude, $rootScope.main.userLocation.longitude]\n                                        } else {\n                                            $rootScope.main.showToast('warning', 'Could not find your position');\n                                            return null;\n                                        }\n                                    })\n                            }\n                        })\n                        .then(function (array) {\n                            if (array) {\n                                $scope.priceEstimator.end_latitude = array[0];\n                                $scope.priceEstimator.end_longitude = array[1]\n                            } else {\n                                //do nothing\n                            }\n                        })\n                        .catch(function (e) {\n                            console.log(e);\n                            $rootScope.main.showToast('warning', 'An error occurred while trying to pin point your location');\n                        });\n                };\n            }\n        };\n    }]);","angular.module('app')\n    .controller('requestUberController', ['$rootScope', '$scope', '$http', '$ionicSlideBoxDelegate', function ($rootScope, $scope, $http, $ionicSlideBoxDelegate) {\n\n        $rootScope.main.classes.body = 'requestUber';\n\n        $scope.requestUberControllerMain = {\n\n            /*\n             * priceEstimateArray contains the data obtained from price estimates\n             * including the types of cars available\n             * distance etc\n             * */\n            priceEstimateArray: [],\n\n            /*\n             * timeEstimateArray contains the data obtained from time estimates\n             * */\n            timeEstimateArray: [],\n\n            /*\n             * all uber products available in area, update when start location is selected\n             * */\n            products: [],\n\n            showStatus: false\n        };\n\n        /*\n         * managing the slides\n         * */\n\n        $scope.goToSlide = function (index) {\n            $ionicSlideBoxDelegate.slide(parseInt(index));\n        };\n        $scope.nextSlide = function (index) {\n            $ionicSlideBoxDelegate.next();\n        };\n        $scope.previousSlide = function (index) {\n            $ionicSlideBoxDelegate.previous();\n        };\n\n    }])\n    .directive('requestUberDirective',\n    ['$rootScope', '$http', '$interval', 'service_uberProducts', 'service_uberPrices', 'service_uberTimeEstimates', 'service_rideStatus', 'GLOBAL',\n        function ($rootScope, $http, $interval, service_uberProducts, service_uberPrices, service_uberTimeEstimates, service_rideStatus, GLOBAL) {\n            return {\n                restrict: 'AE',\n                link: function ($scope, $element, $attr) {\n\n                    $scope.requestUberMain = {\n                        isBusy: false,\n                        status: '',\n\n                        start_latitude: '',\n                        start_longitude: '',\n                        start_formatted_address: '',\n                        end_latitude: '',\n                        end_longitude: '',\n                        end_formatted_address: '',\n                        products: [],\n\n                        product_id: '',\n                        selectedProductPriceEstimate: {}, //holds the selected products price estimates and so forth\n                        selectedProduct: {}, // holds the selected product\n\n                        changeProductId: function (newId, product_display_name) {\n                            if (newId) {\n\n                                $scope.requestUberMain.product_id = newId;\n\n                                //get the selected product\n                                $scope.requestUberControllerMain.products.forEach(function (product) {\n                                    if (product.product_id == newId) {\n                                        $scope.requestUberMain.selectedProduct = product;\n                                    }\n                                });\n\n\n                                $scope.requestUberControllerMain.priceEstimateArray.forEach(function (product) {\n                                    /*\n                                     * since product_ids are most of the times different, here we are\n                                     * using their names to lower case\n                                     * */\n                                    if (product.localized_display_name.toLowerCase() == product_display_name.toLowerCase()) {\n                                        $scope.requestUberMain.selectedProductPriceEstimate = product;\n                                    }\n                                });\n\n                                /*\n                                 * put in the estimates from the timeEstimateArray\n                                 * */\n                                $scope.requestUberControllerMain.timeEstimateArray.forEach(function (product) {\n                                    /*\n                                     * since product_ids are most of the times different, here we are\n                                     * using their names to lower case\n                                     * */\n                                    if (product.display_name.toLowerCase() == product_display_name.toLowerCase()) {\n                                        $scope.requestUberMain.selectedProduct.estimate = Math.ceil(product.estimate / 60);\n                                    }\n                                });\n                            }\n                        },\n\n                        requestUber: function () {\n\n                            $scope.requestUberMain.isBusy = true;\n                            $scope.requestUberMain.status = 'Requesting...';\n\n                            return Promise.resolve()\n                                .then(function () {\n                                    if ($scope.requestUberMain.start_latitude && $scope.requestUberMain.start_longitude && $scope.requestUberMain.end_latitude && $scope.requestUberMain.end_longitude && $scope.requestUberMain.product_id) {\n                                        return true;\n                                    } else {\n                                        throw {\n                                            code: 600\n                                        };\n                                    }\n                                })\n                                .then(function () {\n                                    return $http.post(GLOBAL.baseUrl + '/requestUber', {\n                                        start_latitude: $scope.requestUberMain.start_latitude,\n                                        start_longitude: $scope.requestUberMain.start_longitude,\n                                        end_latitude: $scope.requestUberMain.end_latitude,\n                                        end_longitude: $scope.requestUberMain.end_longitude,\n                                        product_id: $scope.requestUberMain.product_id\n                                    })\n                                        .then(function (resp) {\n                                            resp = resp.data;\n                                            $rootScope.main.responseStatusHandler(resp);\n                                            return resp;\n                                        })\n                                        .catch(function (err) {\n                                            err = err.data;\n                                            $rootScope.main.responseStatusHandler(err);\n                                            throw err;\n                                        })\n                                })\n                                .then(function (resp) {\n                                    $scope.requestUberMain.isBusy = false;\n                                    /*\n                                     * check the ride status\n                                     * */\n                                    service_rideStatus.getRideStatus();\n                                    return true;\n                                })\n                                .catch(function (e) {\n                                    if (e.code === 600) {\n                                        $rootScope.main.showToast('warning', 'Some fields are missing');\n                                    } else {\n                                        throw e\n                                    }\n                                    $scope.requestUberMain.isBusy = false;\n                                    return true;\n                                })\n                                .catch(function (err) {\n                                    $scope.requestUberMain.isBusy = false;\n                                    console.log(err);\n                                    return true;\n                                })\n                        },\n\n                        getPriceEstimates: function () {\n\n                            /*\n                             * these estimates should be for the whole journey\n                             * */\n                            if ($scope.requestUberMain.start_latitude && $scope.requestUberMain.start_longitude && $scope.requestUberMain.end_latitude && $scope.requestUberMain.end_longitude) {\n\n                                $scope.requestUberMain.isBusy = true;\n                                $scope.requestUberMain.status = 'Getting cost estimates...';\n\n                                return Promise.resolve()\n                                    .then(function () {\n                                        return service_uberPrices.getPriceEstimates($scope.requestUberMain.start_latitude, $scope.requestUberMain.start_longitude, $scope.requestUberMain.end_latitude, $scope.requestUberMain.end_longitude)\n                                    })\n                                    .then(function (arr) {\n                                        $scope.requestUberControllerMain.priceEstimateArray = arr;\n                                        $scope.requestUberMain.isBusy = false;\n                                        return true;\n                                    })\n                                    .catch(function (err) {\n                                        $scope.requestUberMain.isBusy = false;\n                                        console.log(err);\n                                        return true;\n                                    });\n\n                            }\n                        },\n\n                        updateTimeEstimates: function () {\n                            if ($scope.requestUberMain.start_latitude && $scope.requestUberMain.start_longitude) {\n                                console.log('Updating all eta');\n                                Promise.resolve()\n                                    .then(function () {\n                                        return service_uberTimeEstimates.getTimeEstimates($scope.requestUberMain.start_latitude, $scope.requestUberMain.start_longitude)\n                                            .then(function (arr) {\n                                                $scope.requestUberControllerMain.timeEstimateArray = arr;\n                                                return true;\n                                            })\n                                    })\n                            }\n                        }\n                    };\n\n                    /*\n                     * update the pickup times every 60 mins - uber api\n                     * */\n                    $interval(function () {\n                        $scope.requestUberMain.updateTimeEstimates();\n                    }, 60000);\n                    $scope.requestUberMain.updateTimeEstimates();\n\n                    $scope.updateStartLocation = function (lat, lng, formatted_address) {\n                        lat = parseFloat(lat).toFixed(10);\n                        lng = parseFloat(lng).toFixed(10);\n\n                        if (formatted_address) {\n                            formatted_address = formatted_address.toString();\n                        }\n\n                        if (lat && lng) {\n                            $scope.requestUberMain.start_latitude = lat;\n                            $scope.requestUberMain.start_longitude = lng;\n                            $scope.requestUberMain.start_formatted_address = formatted_address;\n\n                            $rootScope.map._addMarker(lat, lng, formatted_address);\n                            $rootScope.map._setCenter(lat, lng);\n                            $scope.drawRoute();\n\n                            /*\n                             * update the products to the new location\n                             * PRODUCTS ARE ONLY UPDATED FOR THE PICKUP LOCATION\n                             * */\n                            Promise.resolve()\n                                .then(function () {\n                                    return service_uberProducts.getProducts(lat, lng)\n                                        .then(function (products) {\n                                            $scope.requestUberControllerMain.products = products;\n                                            return true;\n                                        })\n                                });\n\n                            /*\n                             * update the prices\n                             * */\n                            $scope.requestUberMain.getPriceEstimates();\n\n                            /*\n                             * update the etas for the start location only\n                             * */\n                            $scope.requestUberMain.updateTimeEstimates();\n                        }\n                    };\n\n                    $scope.updateEndLocation = function (lat, lng, formatted_address) {\n                        lat = parseFloat(lat).toFixed(10);\n                        lng = parseFloat(lng).toFixed(10);\n\n                        if (formatted_address) {\n                            formatted_address = formatted_address.toString();\n                        }\n\n                        if (lat && lng) {\n                            $scope.requestUberMain.end_latitude = lat;\n                            $scope.requestUberMain.end_longitude = lng;\n                            $scope.requestUberMain.end_formatted_address = formatted_address;\n\n                            $rootScope.map._addMarker(lat, lng, formatted_address);\n                            $scope.drawRoute();\n\n                            /*\n                             * update the prices\n                             * */\n                            $scope.requestUberMain.getPriceEstimates();\n                        }\n                    };\n\n                    $scope.drawRoute = function () {\n                        if ($scope.requestUberMain.start_latitude && $scope.requestUberMain.end_latitude) {\n                            $rootScope.map._setCenter($scope.requestUberMain.start_latitude, $scope.requestUberMain.start_longitude);\n                            $rootScope.map._drawRoute([$scope.requestUberMain.start_latitude, $scope.requestUberMain.start_longitude], [$scope.requestUberMain.end_latitude, $scope.requestUberMain.end_longitude])\n                        }\n                    };\n\n                    $scope.startAtMyLocation = function () {\n                        return Promise.resolve()\n                            .then(function () {\n                                if ($rootScope.main.userLocation.latitude && $rootScope.main.userLocation.longitude) {\n                                    return [$rootScope.main.userLocation.latitude, $rootScope.main.userLocation.longitude]\n                                } else {\n                                    return $rootScope.map._getMyPosition($rootScope.map)\n                                        .then(function () {\n                                            if ($rootScope.main.userLocation.latitude && $rootScope.main.userLocation.longitude) {\n                                                return [$rootScope.main.userLocation.latitude, $rootScope.main.userLocation.longitude]\n                                            } else {\n                                                $rootScope.main.showToast('warning', 'Could not find your position');\n                                                return null;\n                                            }\n                                        })\n                                }\n                            })\n                            .then(function (array) {\n                                if (array) {\n                                    $scope.requestUberMain.start_latitude = array[0];\n                                    $scope.requestUberMain.start_longitude = array[1]\n                                } else {\n                                    //do nothing\n                                }\n                                return true;\n                            })\n                            .catch(function (e) {\n                                console.log(e);\n                                $rootScope.main.showToast('warning', 'An error occurred while trying to pin point your location');\n                            });\n                    };\n\n                    $scope.endAtMyLocation = function () {\n                        return Promise.resolve()\n                            .then(function () {\n                                if ($rootScope.main.userLocation.latitude && $rootScope.main.userLocation.longitude) {\n                                    return [$rootScope.main.userLocation.latitude, $rootScope.main.userLocation.longitude]\n                                } else {\n                                    return $rootScope.map._getMyPosition($rootScope.map)\n                                        .then(function () {\n                                            if ($rootScope.main.userLocation.latitude && $rootScope.main.userLocation.longitude) {\n                                                return [$rootScope.main.userLocation.latitude, $rootScope.main.userLocation.longitude]\n                                            } else {\n                                                $rootScope.main.showToast('warning', 'Could not find your position');\n                                                return null;\n                                            }\n                                        })\n                                }\n                            })\n                            .then(function (array) {\n                                if (array) {\n                                    $scope.requestUberMain.end_latitude = array[0];\n                                    $scope.requestUberMain.end_longitude = array[1]\n                                } else {\n                                    //do nothing\n                                }\n                            })\n                            .catch(function (e) {\n                                console.log(e);\n                                $rootScope.main.showToast('warning', 'An error occurred while trying to pin point your location');\n                            });\n                    };\n                }\n            };\n        }]);","angular.module('app')\n    .controller('uberRideStatusController', ['$rootScope', '$scope', '$http', '$ionicSlideBoxDelegate', function ($rootScope, $scope, $http, $ionicSlideBoxDelegate) {\n\n        $rootScope.main.classes.body = 'rideStatus';\n\n        $scope.uberRideStatusControllerMain = {\n\n            /*\n             * show status by default\n             * */\n            showStatus: true\n        };\n\n        /*\n         * managing the slides\n         * */\n\n        $scope.goToSlide = function (index) {\n            $ionicSlideBoxDelegate.slide(parseInt(index));\n        };\n        $scope.nextSlide = function (index) {\n            $ionicSlideBoxDelegate.next();\n        };\n        $scope.previousSlide = function (index) {\n            $ionicSlideBoxDelegate.previous();\n        };\n\n    }])\n    .directive('uberRideStatusDirective', ['$rootScope', '$http', 'service_rideStatus', '$interval', '$timeout', 'GLOBAL',\n        function ($rootScope, $http, service_rideStatus, $interval, $timeout, GLOBAL) {\n            return {\n                restrict: 'AE',\n                link: function ($scope, $element, $attr) {\n\n                    /*\n                     * clear all markers, then start updating map with new info\n                     * */\n                    $rootScope.map._removeAllPresentMarkers();\n\n                    /*\n                     * check the uberStatus and keep updating the map with the driver position\n                     * */\n                    $scope.uberRideStatusMain = {\n                        rideStatus: null,\n                        driver_latitude: null,\n                        driver_longitude: null,\n                        driver_info_window_marker: null,\n                        start_lat: null,\n                        start_lng: null,\n                        end_lat: null,\n                        end_lng: null,\n\n                        updateUberRequestSandbox: function () {\n                            Promise.resolve()\n                                .then(function () {\n                                    return Promise.delay(15000);\n                                })\n                                .then(function () {\n                                    return $http.post(GLOBAL.baseUrl + '/updateUberRequestSandbox', {\n                                        status: 'accepted'\n                                    })\n                                        .then(function (resp) {\n                                            resp = resp.data;\n                                            $rootScope.main.responseStatusHandler(resp);\n                                            return true;\n                                        })\n                                        .catch(function (err) {\n                                            err = err.data;\n                                            $rootScope.main.responseStatusHandler(err);\n                                            return true;\n                                        })\n                                })\n                                .then(function () {\n                                    return Promise.delay(30000);\n                                })\n                                .then(function () {\n                                    return $http.post(GLOBAL.baseUrl + '/updateUberRequestSandbox', {\n                                        status: 'arriving'\n                                    })\n                                        .then(function (resp) {\n                                            resp = resp.data;\n                                            $rootScope.main.responseStatusHandler(resp);\n                                            return true;\n                                        })\n                                        .catch(function (err) {\n                                            err = err.data;\n                                            $rootScope.main.responseStatusHandler(err);\n                                            return true;\n                                        })\n                                })\n                                .then(function () {\n                                    return Promise.delay(15000);\n                                })\n                                .then(function () {\n                                    return $http.post(GLOBAL.baseUrl + '/updateUberRequestSandbox', {\n                                        status: 'in_progress'\n                                    })\n                                        .then(function (resp) {\n                                            resp = resp.data;\n                                            $rootScope.main.responseStatusHandler(resp);\n                                            return true;\n                                        })\n                                        .catch(function (err) {\n                                            err = err.data;\n                                            $rootScope.main.responseStatusHandler(err);\n                                            return true;\n                                        })\n                                })\n                                .then(function () {\n                                    return Promise.delay(45000);\n                                })\n                                .then(function () {\n                                    return $http.post(GLOBAL.baseUrl + '/updateUberRequestSandbox', {\n                                        status: 'completed'\n                                    })\n                                        .then(function (resp) {\n                                            resp = resp.data;\n                                            $rootScope.main.responseStatusHandler(resp);\n                                            return true;\n                                        })\n                                        .catch(function (err) {\n                                            err = err.data;\n                                            $rootScope.main.responseStatusHandler(err);\n                                            return true;\n                                        })\n                                })\n                                .catch(function (e) {\n                                    console.log(e);\n                                    return true;\n                                })\n                        }\n                    };\n\n                    $scope.uberRideStatusMain.updateUberRequestSandbox();\n\n                    /*\n                     * watch for the start and end, update on map\n                     * */\n                    $timeout(function () {\n                        $scope.$watch(function () {\n                            return $scope.uberRideStatusMain.start_lat;\n                        }, function (val) {\n                            if (val) {\n                                $rootScope.map._addMarker(parseFloat($scope.uberRideStatusMain.start_lat).toFixed(10), parseFloat($scope.uberRideStatusMain.start_lng).toFixed(10));\n                                $rootScope.map._addMarker(parseFloat($scope.uberRideStatusMain.end_lat).toFixed(10), parseFloat($scope.uberRideStatusMain.end_lng).toFixed(10));\n                                /*\n                                 * set center to me\n                                 * */\n                                $rootScope.map._setCenterToMe();\n                            }\n                        });\n                    }, 3000);\n\n                    function checkStatus() {\n                        /*\n                         * poll from service\n                         * */\n                        var val = service_rideStatus.rideStatus();\n\n                        if (val) {\n\n                            $scope.uberRideStatusMain.rideStatus = val;\n                            $scope.uberRideStatusMain.start_lat = val.lastRide.startLatitude;\n                            $scope.uberRideStatusMain.start_lng = val.lastRide.startLongitude;\n                            $scope.uberRideStatusMain.end_lat = val.lastRide.endLatitude;\n                            $scope.uberRideStatusMain.end_lng = val.lastRide.endLongitude;\n\n                            /*\n                             * put user's position on map\n                             * */\n                            $rootScope.map._updateUserInfoWindowMarker($rootScope.main.userData.firstName);\n\n                            /*\n                             * set center to driver\n                             * */\n                            if (val.status == 'in_progress') {\n                                $rootScope.map._setCenter($scope.uberRideStatusMain.driver_latitude, $scope.uberRideStatusMain.driver_longitude);\n                            } else {\n                                $rootScope.map._setCenterToMe();\n                            }\n\n\n                            /*\n                             * start updating the ride status\n                             * */\n\n                            if (val.location) {\n                                $scope.uberRideStatusMain.driver_latitude = parseFloat(val.location.latitude).toFixed(10);\n                                $scope.uberRideStatusMain.driver_longitude = parseFloat(val.location.longitude).toFixed(10);\n\n\n                                /*\n                                 * update the cars location\n                                 * */\n                                if (!$scope.uberRideStatusMain.driver_info_window_marker) {\n                                    $scope.uberRideStatusMain.driver_info_window_marker = $rootScope.map._addInfoWindowMarker($scope.uberRideStatusMain.driver_latitude, $scope.uberRideStatusMain.driver_longitude, 'Driver');\n                                } else {\n                                    $rootScope.map._removeMarker($scope.uberRideStatusMain.driver_info_window_marker);\n                                    $scope.uberRideStatusMain.driver_info_window_marker = $rootScope.map._addInfoWindowMarker($scope.uberRideStatusMain.driver_latitude, $scope.uberRideStatusMain.driver_longitude, 'Driver');\n                                }\n                            }\n                        } else {\n                            /*\n                             * if there is nothing after, then trip is finished\n                             * */\n                            $scope.uberRideStatusMain.rideStatus = null;\n                            if ($rootScope.main && $rootScope.main.userData) {\n                                $rootScope.map._updateUserInfoWindowMarker($rootScope.main.userData.firstName);\n                            }\n                            $rootScope.map._setCenterToMe();\n                        }\n                    }\n\n                    $timeout(function () {\n                        $interval(function () {\n                            checkStatus();\n                        }, 5000); //update every 5 secs\n                        checkStatus();\n                    }, 3000);\n\n                }\n            };\n        }]);","angular.module('app')\n    .filter(\"responseFilter\", ['$q', '$log', '$window', '$rootScope', function ($q, $log, $window, $rootScope) {\n        return function (resp) {\n\n            if (resp !== null && typeof resp === 'object') {\n                if (resp.redirect) {\n                    if (resp.redirectPage) {\n                        $window.location.href = resp.redirectPage;\n                    }\n\n                    if (resp.redirectState) {\n                        $rootScope.main.changeState(resp.redirectState)\n                    }\n\n                    return;\n                }\n                if (resp.reload) {\n                    $rootScope.main.reloadPage();\n                    return;\n                }\n                if (resp.notify) {\n                    if (resp.type && resp.msg) {\n                        $rootScope.main.showIonicAlert('Info', resp.msg);\n                        return;\n                    }\n                }\n                if (resp.dialog) {\n                    if (resp.id) {\n                        switch (resp.id) {\n                            case \"not-authorized\":\n                                $rootScope.main.showIonicAlert('Info', 'You are not authorized to be/access this page or resource.');\n                                break;\n                            case \"sign-in\":\n                                $rootScope.main.showIonicAlert('Info', 'Please sign in to continue.')\n                                    .then(function () {\n                                        $rootScope.main.changeState('login')\n                                    });\n                                break;\n                            default:\n                            //do nothing\n                        }\n                        return;\n                    }\n                }\n                if (resp.banner) {\n                    if (resp.bannerClass && resp.msg) {\n                        $rootScope.main.showIonicAlert('Info', resp.msg);\n                        return;\n                    }\n                }\n                if (resp.signInBanner) {\n                    if (resp.bannerClass && resp.msg) {\n                        $rootScope.main.showIonicAlert('Info', resp.msg);\n                        return;\n                    }\n                }\n                if (resp.registrationBanner) {\n                    if (resp.bannerClass && resp.msg) {\n                        $rootScope.main.showIonicAlert('Info', resp.msg);\n                        return;\n                    }\n                }\n                if (resp.reason) {\n                    $log.warn(resp.reason);\n                }\n            } else {\n                //do nothing\n            }\n        };\n    }]);"],"sourceRoot":"/source/"}